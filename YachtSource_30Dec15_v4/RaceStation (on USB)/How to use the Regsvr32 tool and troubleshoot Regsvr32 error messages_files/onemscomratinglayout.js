window.Mst==undefined&&(window.Mst={}),Mst.Rating=function(n,t,i,r,u,f,e,o,s,h,c,l){var a=this;a._id=n,a.Control=$("#"+n+"_mstRatingCtl"),a._ratingAssetId=t,a._ratingType=i,a._direction=r,a._ratedValue=u,a._binaryLikeValue=f,a._starOn=e,a._starOff=o,a._binaryLikeOn=s,a._binaryLikeOff=h,a._binaryNotLikeOn=c,a._binaryNotLikeOff=l,a._left=r=="ltr"?"left":"right",a._right=r=="ltr"?"right":"left",a._isRated=!1,$($.proxy(a.Ready,a))},Mst.Rating.prototype={Ready:function(){var n=this;n._ratingType=="binary"?(n.Control.find("#"+n._id+"_mstRatingBinaryBarLikeCtl").css("width",n._binaryLikeValue),n.BindOnHoverBinaryEvent()):n.BindOnHoverStarEvent(),n.BindClickStarEvent()},SetRatedClass:function(){var n=this;for(var r=n.Control.find(".mstRatingLayoutStar").children(),i,t=0;t<r.length;t++)i=$(r[t]),t<parseInt(n._ratedValue)?(i.attr("style","float:"+n._left+";"),i.find("img").attr("src",n._starOn)):(i.attr("style","float:"+n._left+";"),i.find("img").attr("src",n._starOff))},BindOnHoverBinaryEvent:function(){var t="#mstRatingBinaryNotLikeCtl",i="#mstRatingBinaryLikeCtl",n=this;n.Control.find(i).mouseenter($.proxy(n.OnMouseEnterBinary,n)),n.Control.find(i).mouseleave($.proxy(n.OnMouseLeaveBinary,n)),n.Control.find(t).mouseenter($.proxy(n.OnMouseEnterBinary,n)),n.Control.find(t).mouseleave($.proxy(n.OnMouseLeaveBinary,n))},BindClickStarEvent:function(){var n=this;n.Control.find("#mstRatingStarAnchor").click($.proxy(n.OnClick,n)),n.Control.find("#mstRatingBinaryLikeCtl").click($.proxy(n.OnClick,n)),n.Control.find("#mstRatingBinaryNotLikeCtl").click($.proxy(n.OnClick,n))},OnMouseEnterBinary:function(n){var t=this;if(t._isRated)return;var i=$(n.currentTarget),r=i.attr("id");r=="mstRatingBinaryLikeCtl"&&(i.attr("style","float:"+t._left+";"),i.find("img").attr("src",t._binaryLikeOn)),r=="mstRatingBinaryNotLikeCtl"&&(i.attr("style","float:"+t._left+";"),i.find("img").attr("src",t._binaryNotLikeOn))},OnMouseLeaveBinary:function(n){var t=this;if(t._isRated)return;var i=$(n.currentTarget),r=i.attr("id");r=="mstRatingBinaryLikeCtl"&&(i.attr("style","float:"+t._left+";"),i.find("img").attr("src",t._binaryLikeOff)),r=="mstRatingBinaryNotLikeCtl"&&(i.attr("style","float:"+t._left+";"),i.find("img").attr("src",t._binaryNotLikeOff))},BindOnHoverStarEvent:function(){var t="#mstRatingStarAnchor",n=this;n.Control.find(t).mouseenter($.proxy(n.OnMouseEnter,n)),n.Control.find(t).mouseleave($.proxy(n.OnMouseLeave,n))},OnMouseEnter:function(n){var i="#mstRatingStarAnchor",t=this;if(t._isRated)return;t.Control.find(i).attr("style","float:"+t._left+";"),t.Control.find(i).find("img").attr("src",t._starOff);var r=$(n.currentTarget);r.prevAll().andSelf().attr("style","float:"+t._left+";"),r.prevAll().andSelf().find("img").attr("src",t._starOn)},OnMouseLeave:function(){if(this._isRated)return;this.SetRatedClass()},OnClick:function(n){var t=this,i,r,u;if(t._isRated)return;t._isRated=!0,i=$(n.currentTarget),r=i.attr("id"),r=="mstRatingBinaryLikeCtl"&&(i.attr("style","float:"+t._left+";"),i.find("img").attr("src",t._binaryLikeOn)),r=="mstRatingBinaryNotLikeCtl"&&(i.attr("style","float:"+t._left+";"),i.find("img").attr("src",t._binaryNotLikeOn)),u=i.attr("value")+"|"+t._ratingAssetId+"|"+t._ratingType+"|"+t._id,SendRatingToServer(u,"")}}